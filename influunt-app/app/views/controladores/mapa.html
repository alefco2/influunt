<div class="container-fluid wrapper wrapper-content animated fadeInRight no-padding" ng-init="inicializaMapa()">
  <div class="col-lg-12 col-sm-12 no-padding mapa-container">

    <div class="ibox float-e-margins">
      <fieldset>
        <div class="row margin-top-20">
          <div class="col-sm-12 col-lg-12 actions clearfix padding-right-20">
            <div class="right">
              <a class="btn btn-primary btn-outline btn-footer right m-r-sm" ui-sref="app.controladores">{{ 'geral.crud.voltar' | translate }}</a>
              <a class="btn btn-primary btn-outline btn-footer right m-r-sm"
                  data-ng-click="legendaAgrupamentos()"
                  data-toggle="modal" data-target="#modal-legenda-agrupamentos" aria-hidden="true">
                {{ 'controladores.mapaControladores.legenda' | translate }}
              </a>
            </div>
          </div>
        </div>
      </fieldset>
    </div>

    <section role="complementary" class="">
      <div
        influunt-map
        markers="markers"
        areas="areas"
        agrupamentos="agrupamentos"
        options="{scrollWheelZoom: false}"
        on-click-marker="setCurrentObject($markerData)"
        class="influunt-map area-mapa"></div>

      <div class="ajutes theme-config">
        <filtro-mapa ng-model="filtro"></filtro-mapa>
      </div>

      <ng-include src="'views/controladores/mapa/acoes-anel.html'"></ng-include>
    </section>
  </div>
</div>

<!-- modal para legenda -->
<div class="modal inmodal" id="modal-legenda-agrupamentos" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content animated bounceInRight">
      <div class="modal-header">
        <h3>{{ 'controladores.mapaControladores.legenda' | translate }}</h3>
        <div class="form-group">
          <div class="row">
            <div class="col-md-2">{{ 'agrupamentos.options.subArea' | translate | uppercase }}</div>
            <div class="col-md-4">
              <div class="agrupamento-sample subarea"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">{{ 'agrupamentos.options.corredor' | translate | uppercase }}</div>
            <div class="col-md-4">
              <div class="agrupamento-sample corredor"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-2">{{ 'agrupamentos.options.rota' | translate | uppercase }}</div>
            <div class="col-md-4">
              <div class="agrupamento-sample rota"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">
          {{ 'crud.fechar' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- modal diagrama de intervalos -->
<div class="modal inmodal" id="modalDiagramaIntervalos" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content animated bounceInRight">
      <div class="modal-header">
        <h2>{{ 'controladores.geral.plano' | translate }} {{ currentPlano.posicao }}</h2>
        <h5>{{ currentPlano.descricao }}</h5>
      </div>
      <div class="modal-body">
        <fieldset>
          <div class="col-lg-12 col-sm-12 ibox white-bg no-padding">
            <div class="ibox float-e-margins">
              <div class="tabpanel">
                <div class="col-lg-12 col-sm-12 padding-top-20 tabs-container">
                  <div class="ui-layout-content tab-content">
                    <div id="tabs-1">
                      <section>
                        <div class="col-lg-12 col-sm-12 no-padding table-create-plan overflow">
                          <ng-include src="'views/planos/tabela-planos.html'"></ng-include>
                        </div>
                      </section>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </fieldset>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>

<!-- modal para selecionar planos para imposição. -->
<div class="modal inmodal" id="modal-imposicao-planos" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content animated bounceInRight">
      <div class="modal-header">
        <h3>{{ 'controladores.mapaControladores.imposicaoPlano.mensagem' | translate }}</h3>
        <div class="form-group">
          <div class="col-sm-12 form-group">
            <select
                name="controladores" class="form-control"
                data-ng-options="option as option.descricao for option in currentAnel.planos track by option.idJson"
                data-ng-model="planoImposto"
                style="width: 100%;">
            </select>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-ng-click="imporPlano()">
          {{ 'controladores.mapaControladores.imporPlano' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
