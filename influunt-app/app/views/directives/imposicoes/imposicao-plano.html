<button data-toggle="modal"
        data-target="#modal-impor-plano"
        class="btn btn-w-m btn-primary"
        data-ng-disabled="!(aneisSelecionados && aneisSelecionados.length > 0)">
        {{ 'imporConfig.plano.titulo' | translate }}
</button>

<!-- modal  -->
<div class="modal inmodal" id="modal-impor-plano" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content animated bounceInRight">
      <div class="modal-body">
        <form role="form" name="formImposicaoDePlanos">
          <div class="row text-left">
            <div class="col-sm-12">
              <label>{{ 'imporConfig.plano.plano' | translate }}</label>
            </div>
            <div class="col-sm-8"
                data-ng-class="{'has-error': !formImposicaoDePlanos.eventoPlano.$pristine && !formImposicaoDePlanos.eventoPlano.$valid}">
              <select name="eventoPlano"
                  data-ng-model="configuracao.posicaoPlano"
                  class="form-control"
                  required="required">
                <option data-ng-repeat="plano in planos track by $index" value="{{ $index+1 }}">
                  {{ 'controladores.geral.plano' | translate }} {{$index + 1}}
                </option>
              </select>
              <p class="help-block error-msg" data-ng-if="!formImposicaoDePlanos.eventoPlano.$pristine && !formImposicaoDePlanos.eventoPlano.$valid">
                {{ 'geral.campo_obrigatorio' | translate }}
              </p>
            </div>
            <div class="col-sm-4">
              <a ui-sref="app.planos_edit({id: getControlador()})"
                  class="btn btn-primary btn-sm"
                  data-ng-if="todosAneisDoMesmoControlador()"
                  data-dismiss="modal">
                {{ 'imporConfig.plano.criarPlanoExclusivo' | translate }}
              </a>

              <a class="btn btn-primary btn-sm"
                disabled="disabled"
                data-ng-if="!todosAneisDoMesmoControlador()"
                tooltips tooltip-side="bottom"
                tooltip-template="<b><span>{{ 'imporConfig.plano.mensagemPlanoExcluisivoNaoDisponivel' | translate }}</span></b>">
                {{ 'imporConfig.plano.criarPlanoExclusivo' | translate }}
              </a>
            </div>
          </div>
          <hr />
          <div class="row text-left">
            <div class="col-sm-12 no-padding">
              <influunt-date-time-picker
                  label="{{ 'imporConfig.plano.horarioEntrada' | translate }}"
                  is-required="true"
                  name="horarioEntrada"
                  ng-model="configuracao.horarioEntradaObj">
              </influunt-date-time-picker>
            </div>
            <div class="col-sm-12 no-padding">
              <div class="col-sm-12">
                <label>{{ 'imporConfig.duracao' | translate }}</label>
              </div>
              <div class="col-sm-12" data-ng-class="{'has-error': !formImposicaoDePlanos.duracao.$pristine && !formImposicaoDePlanos.duracao.$valid}">
                <div class="input-group">
                  <input type="number"
                      class="form-control"
                      name="duracao"
                      ng-model="configuracao.duracao"
                      required="required"
                      min="{{ LIMITE_MINIMO_DURACAO }}"
                      max="{{ LIMITE_MAXIMO_DURACAO }}">
                  <span class="input-group-addon ng-binding">{{ 'geral.minuto' | translate }}</span>
                </div>
                <p class="help-block error-msg" data-ng-if="!formImposicaoDePlanos.duracao.$pristine && !formImposicaoDePlanos.duracao.$valid">
                  {{ 'imporConfig.plano.validacoes.duracaoEntreMinimoEMaximo' | translate: {MINIMO: LIMITE_MINIMO_DURACAO, MAXIMO: LIMITE_MAXIMO_DURACAO} }}
                </p>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer text-center">
        <button type="button" class="btn btn-primary " data-dismiss="modal" data-ng-click="imporPlano()" data-ng-disabled="!formImposicaoDePlanos.$valid">
          {{ 'imporConfig.plano.titulo' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
